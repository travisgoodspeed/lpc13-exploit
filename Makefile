
PORT ?= /dev/ttyUSB0

BL ?= ./lpc13-exploit -p $(PORT)

all:
	go build
clean:
	go clean
	rm -f sram-10000000.bin flash-00000000.bin
	rm -f *~
fmt:
	go fmt
run: all
	$(BL)
runv: all
	$(BL) -v

dump: all
	$(BL) -sd sram-10000000.bin -fd flash-00000000.bin

go: all
	$(BL) -u -g 0
test: all
	$(BL) -u -t
testv: all
	$(BL) -u -t -v

exploit: all
	$(BL) -u -U 
exploitdump: all
	$(BL) -u -U -sd sram-10000000.bin -fd flash-00000000.bin

