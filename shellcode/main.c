

/* READ ME CAREFULLY BEFORE PATCHING:
   
   This is a little chunk of shellcode hastily linked to run from SRAM
   in the context of the UART bootloader.
   
   
   The .bss section isn't zeroed, so don't expect any globals or
   statics to be initialized to zero.
   
 */


//Magic constants for bootloader 2.5 are defined in lpc1343fhn33.syms
//They'll need to change for other ROM revisions.
extern int crp_level_ram;
extern void cmd_mainloop();

int main(){
  //Disable the protections.
  crp_level_ram=0;

  //Call back into the bootloader.
  cmd_mainloop();

  //cmd_mainloop never returns, but this can't hurt.
  return 0;
}
